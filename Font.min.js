var h=!1,j,k=window;function q(){this.fontFamily="fjs"+(999999*Math.random()|0)}if(!Object.defineProperty)throw"Font.js requires Object.defineProperty, which this browser does not support.";if(!document.createElement("canvas").getContext)throw"Font.js requires <canvas> and the Canvas2D API, which this browser does not support.";
a:{var r=function(d,g){return this.slice(d,g)},u=function(d,g){var f,c=d.length;2>arguments.length&&(g=0);for(f=0;f<c;++f,++g)this[g]=d[f]&255},v=function(d){var g,f;if("number"===typeof d){g=Array(d);for(f=0;f<d;++f)g[f]=0}else g=d.slice(0);g.subarray=r;g.buffer=g;g.byteLength=g.length;g.set=u;"object"===typeof d&&d.buffer&&(g.buffer=d.buffer);return g};try{new Uint8Array(1);break a}catch(w){}k.C=v;k.B=v;k.A=v}
if(!k.opera&&!("response"in XMLHttpRequest.prototype||"mozResponseArrayBuffer"in XMLHttpRequest.prototype||"mozResponse"in XMLHttpRequest.prototype||"responseArrayBuffer"in XMLHttpRequest.prototype))Object.defineProperty(XMLHttpRequest.prototype,"response",{get:k.D?function(){return new Uint8Array((new VBArray(this.w)).G())}:function(){this.w}});
k.btoa||(k.btoa=function(d){var g,f,c,i,a=0,e=0,b="",b=[];if(!d)return d;do g=d.charCodeAt(a++),f=d.charCodeAt(a++),c=d.charCodeAt(a++),i=g<<16|f<<8|c,g=i>>18&63,f=i>>12&63,c=i>>6&63,i&=63,b[e++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i);
while(a<d.length);b=b.join("");d=d.length%3;return(d?b.slice(0,d-3):b)+"===".slice(d||3)});j=q.prototype;j.url="";j.h="";j.data="";j.c="AAEAAAAKAIAAAwAgT1MvMgAAAAAAAACsAAAAWGNtYXAAAAAAAAABBAAAACxnbHlmAAAAAAAAATAAAAAQaGVhZAAAAAAAAAFAAAAAOGhoZWEAAAAAAAABeAAAACRobXR4AAAAAAAAAZwAAAAIbG9jYQAAAAAAAAGkAAAACG1heHAAAAAAAAABrAAAACBuYW1lAAAAAAAAAcwAAAAgcG9zdAAAAAAAAAHsAAAAEAAEAAEAZAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAABAAMAAQAAAAwABAAgAAAABAAEAAEAAABB//8AAABB////wAABAAAAAAABAAAAAAAAAAAAAAAAMQAAAQAAAAAAAAAAAABfDzz1AAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAEAAgAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAIAAAAAQAAAAIAAQABAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAIAHgADAAEECQABAAAAAAADAAEECQACAAIAAAAAAAEAAAAAAAAAAAAAAAAAAA==";
j.a={k:0,j:0,f:0,g:0,z:400};j.e=h;j.loaded=h;j.onload=function(){};j.onerror=function(){};j.canvas=h;j.d=h;j.l=function(d,g,f,c,i){if(i!==h&&0>i)this.onerror("Requested system font '"+this.fontFamily+"' could not be loaded (it may not be installed).");else 0<document.defaultView.getComputedStyle(d,"").getPropertyValue("width").replace("px","")?(document.head.removeChild(g),document.body.removeChild(d),this.loaded=!0,this.onload()):setTimeout(function(){c.l(d,g,f,c,i===h?h:i-50)},50)};
j.o=function(){function d(a){return!n[a]?(i.onerror("Error: font is missing the required OpenType '"+a+"' table."),h):a}function g(a,b){var d=1===a>>7,c;c=256*(a&127)+b;return!d?c:c-32768}function f(a){return 256>a?c(0)+c(a):c(a>>8)+c(a&255)}function c(a){return String.fromCharCode(a)}var i=this,a=this.data,e=c(a[0])+c(a[1])+c(a[2])+c(a[3]),b=e===c(0)+c(1)+c(0)+c(0),e=b?h:"OTTO"===e;if(b)this.h="truetype";else if(e)this.h="opentype";else{i.onerror("Error: file at "+this.url+" cannot be interpreted as OpenType font.");
return}for(var l=256*a[4]+a[5],l=12+16*l,n={},b=12;b<l;b+=16)e=c(a[b])+c(a[b+1])+c(a[b+2])+c(a[b+3]),n[e]={name:e,F:16777216*a[b+4]+65536*a[b+5]+256*a[b+6]+a[b+7],offset:16777216*a[b+8]+65536*a[b+9]+256*a[b+10]+a[b+11],length:16777216*a[b+12]+65536*a[b+13]+256*a[b+14]+a[b+15]};e=d("head");if(e!==h&&(b=n[e].offset,n[e].version=""+a[b]+a[b+1]+a[b+2]+a[b+3],l=256*a[b+18]+a[b+19],this.a.k=l,e=d("hhea"),e!==h&&(b=n[e].offset,n[e].version=""+a[b]+a[b+1]+a[b+2]+a[b+3],this.a.f=g(a[b+4],a[b+5])/l,this.a.g=
g(a[b+6],a[b+7])/l,this.a.j=g(a[b+8],a[b+9])/l,e=d("OS/2"),e!==h&&(b=n[e].offset,n[e].version=""+a[b]+a[b+1],this.a.z=256*a[b+4]+a[b+5],e=d("cmap"),e!==h)))){b=n[e].offset;n[e].version=""+a[b]+a[b+1];var l=256*a[b+2]+a[b+3],m,p,s,t,e=h;for(m=0;m<l;m++)p=b+4+8*m,s=256*a[p]+a[p+1],t=256*a[p+2]+a[p+3],p=16777216*a[p+4]+65536*a[p+5]+256*a[p+6]+a[p+7],3===s&&1===t&&(e=p);l="A";if(e!==h&&(b+=e,e=256*a[b]+a[b+1],4===e)){e=b+14;b=b+14+2*((256*a[b+6]+a[b+7])/2);for(m=h;e<b;e+=2){m=256*a[e]+a[e+1];if(-1===
[9,10,11,12,13,32,133,160,5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288].indexOf(m))break;m=h}m!==h&&(l=String.fromCharCode(m),a=btoa(c(0)+f(m)+f(65535)+f(0)+f(m)+f(65535)+f(-(m-1)+65536)+f(1)),this.c=this.c.substring(0,380)+a+this.c.substring(380+a.length))}this.i(l,h)}};
j.i=function(d,g){var f=this.fontFamily+" testfont",c=document.createElement("style");c.setAttribute("type","text/css");c.innerHTML="@font-face {\n  font-family: '"+f+"';\n  src: url('data:application/x-font-ttf;base64,"+this.c+"')\n       format('truetype');}";document.head.appendChild(c);var i=h;this.e||(i=this.q(),document.head.appendChild(i));var a=document.createElement("p");a.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;";a.style.fontFamily="'"+this.fontFamily+"', '"+f+"'";
a.innerHTML=d+d+d+d+d+d+d+d+d+d;document.body.appendChild(a);if(document.defaultView.getComputedStyle){var f=this.e?1E3:this.a.k,e=document.createElement("canvas");e.width=f;e.height=f;this.canvas=e;e=e.getContext("2d");e.font="1em '"+this.fontFamily+"'";e.fillStyle="white";e.fillRect(-1,-1,f+2,f+2);e.fillStyle="black";e.fillText("test text",50,f/2);this.d=e;var b=this;setTimeout(function(){b.l(a,c,i,b,g)},50)}else this.onload(),error("Error: document.defaultView.getComputedStyle is not supported by this browser.\nConsequently, Font.onload() cannot be trusted.")};
j.p=function(){this.e=!0;this.a=h;this.i("A",1E3)};j.m=function(){var d=this;if(-1===this.url.indexOf("."))setTimeout(function(){d.p()},10);else{var g=new XMLHttpRequest;g.open("GET",d.url,!0);g.responseType="arraybuffer";g.onload=function(){var f=g.response;if(f)d.data=new Uint8Array(f),d.o();else d.onerror("Error downloading font resource from "+d.url)};g.send(null)}};j.b=h;
j.q=function(){if(this.b)return this.b;this.b=document.createElement("style");this.b.type="text/css";var d;d="@font-face {\n"+("  font-family: '"+this.fontFamily+"';\n");d+="  src: url('"+this.url+"') format('"+this.h+"');\n";this.b.innerHTML=d+"}";return this.b};
j.measureText=function(d,g){if(!this.loaded)return error("measureText() was called while the font was not yet loaded"),h;this.d.font=g+"px '"+this.fontFamily+"'";var f=this.d.measureText(d);f.fontsize=g;f.f=0;f.g=0;f.r={u:0,s:f.width,v:0,t:0};f.height=0;var c=[];c.push(d);var i=c.length,a;for(a=0;a<i;a++)this.n(c[a],g,f);return f};
j.n=function(d,g,f){var c,i=document.createElement("div");i.style.position="absolute";i.style.opacity=0;i.style.font=g+"px '"+this.fontFamily+"'";i.innerHTML=d;for(c=1;10>c;c++)i.innerHTML+="<br/>"+d;document.body.appendChild(i);f.j=1.2*g;c=document.defaultView.getComputedStyle(i,null).getPropertyValue("height");c=c.replace("px","");c>=10*g&&(f.j=c/10|0);document.body.removeChild(i);if(/^\s*$/.test(d))return f;c=this.d;var a=this.e?1E3:this.a.k,i=a/2,e=(a-f.width)/2;e!==(e|0)&&(e|=0);c.fillStyle=
"white";c.fillRect(-50,-50,a+100,a+100);c.fillStyle="black";c.fillText(d,e,i);for(var d=f.width+50|0,b=4*g,g=c.getImageData(e-25,i-b/2,d,b).data,i=c=0,e=4*d,a=g.length,b=b/2;++c<a&&255===g[c];);var l=c/e|0;for(c=a-1;0<--c&&255===g[c];);for(var n=c/e|0,i=c=0;i<d&&255===g[c];)c+=e,c>=a&&(i++,c=c-a+4);var m=i,p=1;c=a-3;for(i=0;i<d&&255===g[c];)c-=e,0>c&&(i++,c=a-3-4*p++);f.f=b-l;f.g=n-b;f.r={u:m-25,s:d-i-25,v:-f.g,t:f.f};f.height=1+(n-l);return f};
Object.defineProperty(q.prototype,"src",{set:function(d){this.url=d;this.m()}});k.Font=q;q.prototype.url=q.prototype.url;q.prototype.format=q.prototype.h;q.prototype.data=q.prototype.data;q.prototype.base64=q.prototype.c;q.prototype.metrics=q.prototype.a;q.prototype.systemfont=q.prototype.e;q.prototype.loaded=q.prototype.loaded;q.prototype.onload=q.prototype.onload;q.prototype.onerror=q.prototype.onerror;q.prototype.canvas=q.prototype.canvas;q.prototype.context=q.prototype.d;
q.prototype.validate=q.prototype.l;q.prototype.ondownloaded=q.prototype.o;q.prototype.bootstrapValidation=q.prototype.i;q.prototype.processSystemFont=q.prototype.p;q.prototype.loadFont=q.prototype.m;q.prototype.styleNode=q.prototype.b;q.prototype.toStyleNode=q.prototype.q;q.prototype.measureText=q.prototype.measureText;q.prototype.measureSegment=q.prototype.n;
